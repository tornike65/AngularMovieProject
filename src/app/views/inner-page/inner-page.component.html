<main>
  <article class="video">
    <img style="width: 100%; height: 450px; opacity: 0.2; object-fit: cover;" src="https://image.tmdb.org/t/p/w500{{currentMovie.backdrop_path}}" alt="">
    <div class="film">
      <!-- <video style="outline: none;" id="video" width="100%" height="100%" controls [poster]="">
        <source src="https://www.youtube.com/watch?v=" type="video/mp4">
      </video> -->
      <iframe style="outline: none;" id="video" width="100%" height="100%" [src]="urlSafe" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen></iframe>
    </div>
    <div class="info">
      <div class="name">
        <h3 *ngIf="isMovie; else elseBlock">{{currentMovie.original_title}}</h3>
        <ng-template style="font-size: 1.75rem;" #elseBlock>{{currentMovie.name}}</ng-template>
      </div>
      <div class="add">
        <ul>
          <li>
           <button  (click)= "addToWachList(currentMovie)" type="button" id="watchlist" class="btn btn-secondary" data-toggle="tooltip" data-placement="bottom" title="Add to watchlist
           ">
           <i class="fas fa-eye"></i>
           </button>        
         </li>
          <li>
            <button type="button" class="btn btn-secondary" data-toggle="tooltip" data-placement="bottom" title="Make As Favorite">
              <i class="fas fa-heart"></i>         
           </button>>
         </li>
         <li>
          <button   type="button" id="watchlist" class="btn btn-secondary" data-toggle="tooltip" data-placement="bottom" title="Add to list
          ">
          <i class="fas fa-list"></i>
          </button>        
        </li>
        </ul>
       </div>
      <div class="rating">
        <svg class="svg-icon svg-icon--imdbRating" width="47" height="26" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path
            d="M7.4 7.8h1.4V18H7.4V7.8zm4.1 0h2l2.7 7 2.6-7h2V18h-1.3V9l-2.6 7h-1.4l-2.7-7v9h-1.3V7.8zM25 8.9v8h1.6c1.4 0 2.5-.4 3.1-1 .7-.6 1-1.6 1-3s-.3-2.4-1-3c-.6-.7-1.7-1-3-1H25zm-1.4-1.1h2.8c2 0 3.5.4 4.4 1.2 1 .9 1.4 2.1 1.4 3.9 0 1.7-.5 3-1.4 3.9-1 .8-2.4 1.2-4.4 1.2h-2.8V7.8zm16.2 6.4c0-1-.2-1.7-.6-2.2-.3-.5-.9-.8-1.5-.8-.7 0-1.2.3-1.6.8-.4.5-.6 1.3-.6 2.2 0 .9.2 1.6.6 2.2.4.5 1 .7 1.6.7.6 0 1.2-.2 1.5-.7.4-.6.6-1.3.6-2.2zm-4.3-2.7a2.6 2.6 0 0 1 2.5-1.3c1 0 1.7.3 2.2 1 .6.8 1 1.8 1 3s-.4 2.2-1 2.9c-.5.7-1.3 1.1-2.2 1.1a3 3 0 0 1-1.5-.3l-1-1V18h-1.2V7.4h1.2v4.1z"
            fill="#fff"></path>
          <rect x="1" y="1" width="45" height="24" rx="3" stroke="#1A90CF" stroke-width="2"></rect>
        </svg>
        <span>{{currentMovie.vote_average}}</span>
      </div>
    </div>
  </article>
  <article class="description">
    <div class="poster col-md-3">
      <img src="https://image.tmdb.org/t/p/w500{{currentMovie.poster_path}}" alt="">       
    </div>
    <div class="description-info col-md-9">
      <div class="movie-info">
        <span *ngIf="isMovie;else yearBlock">გამოშვების წელი : <h6>{{currentMovie.release_date}}</h6></span>
        <ng-template #yearBlock><span>გამოშვების წელი : <h6>{{currentMovie.first_air_date}}</h6></span></ng-template>
        <div class="country">
          <span>ქვეყანა : </span>
          <h6 *ngFor="let item of currentMovie.production_countries">{{item.iso_3166_1}}</h6>
        </div>
        <div class="genre">
          <span>ჟანრი : </span>
          <h6 *ngFor="let item2 of currentMovie.genres" (click)= "filterBygenre()">{{item2.name}},</h6>
        </div>
        <div class="language">
          <span>გახმოვანება : </span>
          <h6 *ngFor="let item3 of currentMovie.spoken_languages">{{item3.name}}</h6>
        </div>
        <span>ხანგრძლივობა :<h6>{{currentMovie.runtime}} წუთი</h6></span>
      </div>
      <div class="directors">
        <div>
          <p>ბიუჯეტი : {{currentMovie.budget | number}}
          <p>
          <p>შემოსავალი : {{currentMovie.revenue | number}}
          <p>
        </div>
      </div>
      <div class="plot">
        <h5>აღწერა</h5>
        <p>{{currentMovie.overview}}</p>
      </div>
    </div>
  </article>
  <article class="similar">
    <div class="buttons">
      <button class="btn btn-primary">მსგავსი</button>
      <button class="btn cast">მსახიობები</button>
    </div>
    <!-- <app-slider-card [similarmovieData] = "similarmovieData"></app-slider-card> -->
    <div class="arrow">
      <button class="carousel-movers left-btn" (click) = "movfirst()"><i class="fa fa-chevron-left"></i></button>
      <button class="carousel-movers right-btn" (click) = "movnext()"><i class="fa fa-chevron-right"></i></button>
    </div>
    <app-slider-card [similarmovieData] = "similarmovieData"></app-slider-card>
  </article>
  <article class="comments">
    <h5>კომენტარები</h5>
    <div class="card" *ngFor="let item of commenntData">
      <div class="grouped">
          <div class="avatar">
                  
          </div>
  
          <div class="info2">
  
  
              <div class="rating_wrapper">
                  <h3><a href="/review/{{item.id}}">A review by {{item.author_details.name}}.</a></h3>
                  <div class="rounded rating2"><span class="glyphicons_v2 star invert svg"></span>{{item.author_details.rating}}</div>
              </div>
  
              <h5 >Written by <a href="/u/{{item.author_details.username}}"> {{ item.author_details.name}}</a>   created on {{item.created_at | date}}</h5>
          </div>
      </div>
      
      <div class="teaser">
          <p>{{item.content}}</p>
      </div>
  </div>
  </article>
</main>
